# インシデント調査レポート

**作成日**: YYYY-MM-DD
**調査対象**: [アラート名 / エラー概要]
**ステータス**: 調査中 / 調査完了 / 対応完了

---

## エラー概要

**発生日時**: YYYY-MM-DD HH:MM:SS UTC (JST HH:MM)
**監視場所**: [リージョン / ロケーション]
**エラー内容**: [エラーメッセージ]
**影響範囲**: [単発 / 断続的 / 継続中]
**関連サービス**: [サービス名]

---

## 原因分析

### 確認事項

- [ ] **ロードバランサー**: [確認結果]
- [ ] **アプリケーションログ**: [確認結果]
- [ ] **データベース**: [確認結果]
- [ ] **外部依存サービス**: [確認結果]
- [ ] **リソース使用状況**: [確認結果]

### 根本原因（推定）

**[原因1] ← 最も可能性が高い**

- 詳細説明
- 根拠となるデータ
- 発生メカニズム

**[原因2（あれば）]**

- 詳細説明
- 根拠となるデータ

### 除外された可能性

**[可能性1]**

- 除外理由
- 反証となるデータ

---

## 証拠データ

### エラーログ

```
[ログの抜粋]
```

### トレース情報

- **Trace ID**: `[trace-id]`
- **Execution ID**: `[execution-id]`
- **Error Group ID**: `[error-group-id]`
- **Span Details**: [詳細]

### メトリクス

```
[関連するメトリクスのデータ]
```

### 前後の動作状況

```
HH:MM:SS - [イベント] → [結果] ✅/❌
HH:MM:SS - [イベント] → [結果] ✅/❌
```

---

## タイムライン

| 時刻 (UTC) | イベント | 結果 |
| ---------- | -------- | ---- |
| HH:MM:SS   | [イベント説明] | ✅/❌ |
| HH:MM:SS   | [イベント説明] | ✅/❌ |
| HH:MM:SS   | [イベント説明] | ✅/❌ |

---

## 影響範囲

### システムへの影響

- **サービス停止**: あり / なし / 部分的
- **ユーザー影響**: あり / なし / 限定的
- **データ損失**: あり / なし
- **監視アラート**: [アラート状況]

### 該当コンポーネント

- `[コンポーネント名]` ([種類])
- `[コンポーネント名]` ([種類])

### 影響を受けたユーザー/リクエスト

- **影響ユーザー数**: [数値]
- **失敗リクエスト数**: [数値]
- **影響期間**: [開始時刻] ～ [終了時刻]

---

## 推奨対応

### 短期対応（即時～1週間）

#### 1. [対応項目1]

詳細説明

```yaml
# 設定例や実装例
```

#### 2. [対応項目2]

詳細説明

### 中期対応（1週間～1ヶ月）

#### 3. [対応項目3]

詳細説明

```javascript
// コード例
```

### 長期対応（1ヶ月～）

#### 4. [対応項目4]

詳細説明

---

## アクションアイテム

| 項目 | 担当 | 期限 | 優先度 | ステータス |
| ---- | ---- | ---- | ------ | ---------- |
| [アクション1] | [担当者] | [期限] | 高/中/低 | 未着手/進行中/完了 |
| [アクション2] | [担当者] | [期限] | 高/中/低 | 未着手/進行中/完了 |

---

## 結論

**評価**: [単発的な一時障害 / 継続的な問題 / 重大インシデント]
**システム影響**: [なし / 軽微 / 重大]
**原因**: [簡潔な原因説明]
**対応優先度**: 高 / 中 / 低

### 推奨事項

1. [推奨事項1]
2. [推奨事項2]
3. [推奨事項3]

---

## 参考情報

### 関連ログクエリ

**アプリケーションログ:**

```
resource.labels.service_name="[SERVICE_NAME]"
timestamp >= "[START_TIME]"
timestamp < "[END_TIME]"
```

**ロードバランサーログ:**

```
resource.type="http_load_balancer"
timestamp >= "[START_TIME]"
timestamp < "[END_TIME]"
```

### 関連トレース

- Trace URL: [Cloud Trace URL]
- Span Details: [詳細]

### 関連ドキュメント

- [ドキュメント1]
- [ドキュメント2]

### 関連インシデント

- [過去の類似インシデント]

---

**調査者**: [名前]
**レビュー**: [名前 / 未実施]
**承認**: [名前 / 未実施]

---

## 追記

### [日付] - [追記内容のタイトル]

[追加情報や後日の発見事項]
